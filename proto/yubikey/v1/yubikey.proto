syntax = "proto3";

package yubikey.v1;

import "google/api/annotations.proto";

option go_package = "github.com/takumin/ykmgr/pkg/yubikey/v1;yubikey";

message Version {
  uint32 major = 1;
  uint32 minor = 2;
  uint32 patch = 3;
}

message GetVersionsRequest {
}

message GetVersionsResponse {
  repeated Version versions = 1;
}

message GetSerialsRequest {
}

message GetSerialsResponse {
  repeated uint32 serials = 1;
}

service YubikeyService {
  rpc GetVersions(GetVersionsRequest) returns (GetVersionsResponse) {
    option (google.api.http) = {
      get: "/v1/yubikey/versions"
    };
  }
  rpc GetSerials(GetSerialsRequest) returns (GetSerialsResponse) {
    option (google.api.http) = {
      get: "/v1/yubikey/serials"
    };
  }
}
